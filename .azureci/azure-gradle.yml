parameters:
  tasks: 'test'
  publishTestResults: true
  displayName: Gradle

steps:
- task: Gradle@2
  displayName: ${{ parameters.displayName }}
  inputs:
    gradleWrapperFile: ${{ parameters.wrapper }}
    tasks: ${{ parameters.tasks }}
    publishJUnitResults: ${{ parameters.publishTestResults }}
    testResultsFiles: '**/TEST-*.xml'
    javaHomeOption: 'JDKVersion'
    jdkVersionOption: '1.8'
  env:
    DATABASE_PASS: $(db_pass_secret)
